<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>recent.js</title>
    <link rel="stylesheet" href="qunit/qunit.css"/>
</head>
<body>
    <div id="qunit"></div>
    <div id="qunit-fixture">
        <div id="sudoku"></div>
    </div>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="qunit/qunit.js"></script>
    <script type="text/javascript" src="qunit/sinon.js"></script>
    <script type="text/javascript" src="qunit/sinon-qunit.js"></script>
    <script type="text/javascript" src="../semantic/javascript/semantic.min.js"></script>
    <script type="text/javascript" src="../assets/javascript/recent.js"></script>

    <script type="text/javascript">
        var recent = new Recent();
        
        QUnit.test('history.getRecords()', function(assert) {
            var json = '[{"when":"5 second(s) ago", "ip":"0.0.0.0", "time":"12 minute(s) ago"}, {"when":"6 second(s) ago", "ip":"0.0.0.1", "time":"13 minute(s) ago"}]';
            var result = recent.getRecords(json);
            assert.equal(result.length, 2);
            assert.equal(result[0], '<tr><td><i class="calendar icon"></i>5 second(s) ago</td><td>0.0.0.0</td><td><i class="time icon"></i>12 minute(s) ago</td><td><a class="ui tiny black button" href="#">Open</a></td></tr>');
            assert.equal(result[1], '<tr><td><i class="calendar icon"></i>6 second(s) ago</td><td>0.0.0.1</td><td><i class="time icon"></i>13 minute(s) ago</td><td><a class="ui tiny black button" href="#">Open</a></td></tr>');
        });
        
        QUnit.test('history.getHistoryLink()', function(assert) {
            var link = recent.getHistoryLink(5);
            assert.equal(link, '/result/5');
        });
    </script>

</body>
</html>